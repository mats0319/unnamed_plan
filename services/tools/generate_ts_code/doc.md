# 生成ts代码

本工具可以根据指定proto文件，生成对应的ts代码

问题：

1. 与我写的proto文件强关联，如果你用到了我没有用到的proto语法，请谨慎使用本工具
2. 第一版仅包含根据message生成结构体的功能

我原本想着用模板填充的方式，可是学到了一个新的名词：抽象语法树(ast)，似乎这些代码生成都是依赖于这样一棵树做的，了解一下这个概念再做决定

抽象语法树，是源码语法结构的一种抽象表示。大致是将源代码使用类似伪代码的方式描述，然后用这个树去做事情，比如生成其他语言的代码。

1. 词法分析：scan，将代码转化为token流
2. 语法分析：parse，将token流转化为结构化的ast

我原本的想法，是做一个proto和ts的语法转换，例如结构定义，proto中使用message，ts使用interface，找到这些语法差异，然后挨个转换，  
而ast提供了一种新思路，是从整体出发，描述整个proto源代码，然后翻译成ts，这让我更想自己实现一个代码生成工具了。

说句题外话，我生成lc测试代码的工具也可以使用这种思路来调整：
1. 原理：将带测试函数抽象成ast，然后翻译成测试代码
2. 先去lc repo做一次尝试，做完了再回来思考这边
